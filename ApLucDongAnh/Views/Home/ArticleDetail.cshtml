@model ApLucDongAnh.ViewModel.ArticleDetailsViewModel
@{
    ViewBag.Title = Model.Article.TitleMeta ?? Model.Article.Subject;
    ViewBag.Description = Model.Article.DescriptionMeta ?? Model.Article.Description;
    ViewBag.Canonical = Request.Url?.GetLeftPart(UriPartial.Authority) + Url.Action("ArticleDetail", new { url = Model.Article.Url });
    if (Model.Article.Image != null)
    {
        ViewBag.ImageShare = Request.Url?.GetLeftPart(UriPartial.Authority) + Path.Combine("/images/articles/", Model.Article.Image);
    }
}

@Html.Action("Header")
<section class="banner-category banner-service" @if (Model.Article.CoverImage != null) { @Html.Raw("style='background-image:url(" + Path.Combine("/images/articles/", Model.Article.CoverImage) + ")'") }>
    <h1>Tin Tức</h1>
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="@Url.Action("Index")">
                Trang chủ
            </a>
            <i class="fal fa-long-arrow-right"></i>
        </li>
        <li class="breadcrumb-item">
            <a href="@Url.Action("ArticleCategory", "Home", new { url = Model.Article.ArticleCategory.Url })">
                @Model.Article.ArticleCategory.CategoryName
            </a>
            <i class="fal fa-long-arrow-right"></i>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
            @Model.Article.Subject
        </li>
    </ol>
</section>
<section class="article-detail">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="content-article">
                    <h1 class="article-name">@Model.Article.Subject</h1>
                    <span class="date">
                        <i class="fal fa-calendar-alt"></i>
                        @Model.Article.CreateDate.ToString("dd/MM/yyyy")
                    </span>
                    @if (Model.Article.Description != null)
                    {
                        <div class="sapo-detail">
                            @Model.Article.Description
                        </div>
                    }
                    @if (Model.Article.Body != null)
                    {
                        <div class="content-detail mt-3">
                            @Html.Raw(Model.Article.Body)
                        </div>
                    }
                    <div class="share">
                        <ul class="d-flex align-items-center ul-reset">
                            <li class="mr-3">Chia sẻ:</li>
                            <li><button class="facebook" onclick="window.open('https://www.facebook.com/sharer.php?u='+encodeURIComponent(location.href)+'&amp;t='+encodeURIComponent(document.title));return false"><i class="fab fa-facebook-f"></i></button></li>
                            <li><button class="instagram" onclick="window.open('https://www.instagram.com/?url='+encodeURIComponent(location.href)+'&amp;t='+encodeURIComponent(document.title));return false"><i class="fab fa-instagram"></i></button></li>
                            <li><button class="twitter" onclick="window.open('https://twitter.com/intent/tweet?url='+encodeURIComponent(location.href)+'&amp;text='+encodeURIComponent(document.title));return false"><i class="fab fa-twitter"></i></button></li>
                            <li><button class="linkedin" onclick="window.open('https://www.linkedin.com/sharing/share-offsite/?url='+encodeURIComponent(location.href)+'&amp;t='+encodeURIComponent(document.title));return false"><i class="fab fa-linkedin-in"></i></button></li>
                        </ul>
                    </div>
                    @if (Model.Previous != null || Model.Next != null)
                    {
                        <div class="article-previous-next">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 d-flex align-items-center">
                                    @if (Model.Previous != null)
                                    {
                                        <div class="article-prev">
                                            <a href="@Url.Action("ArticleDetail", new { url = Model.Previous.Url })" class="article-img">
                                                @if (Model.Previous.Image != null)
                                                {
                                                    <img data-src="@Path.Combine("/images/articles/", Model.Previous.Image)" src="~/Content/images/img-main/base64.gif" alt="@Model.Previous.Subject" class="lazyload" />
                                                }
                                                <i class="far fa-long-arrow-left"></i>
                                            </a>
                                            <div class="body">
                                                <span>BÀI TRƯỚC</span>
                                                <a href="@Url.Action("ArticleDetail", new { url = Model.Previous.Url })" class="subject">
                                                    @Model.Previous.Subject
                                                </a>
                                            </div>
                                        </div>
                                    }
                                </div>
                                @if (Model.Next != null)
                                {
                                    <div class="col-lg-6 col-md-6 d-flex justify-content-end align-items-center mt-lg-0 mt-md-0 mt-4">
                                        <div class="article-next">
                                            <div class="body">
                                                <span>BÀI SAU</span>
                                                <a href="@Url.Action("ArticleDetail", new { url = Model.Next.Url })" class="subject">
                                                    @Model.Next.Subject
                                                </a>
                                            </div>
                                            <a href="@Url.Action("ArticleDetail", new { url = Model.Next.Url })" class="article-img">
                                                @if (Model.Next.Image != null)
                                                {
                                                    <img data-src="@Path.Combine("/images/articles/", Model.Next.Image)" src="~/Content/images/img-main/base64.gif" alt="@Model.Next.Subject" class="lazyload" />
                                                }
                                                <i class="far fa-long-arrow-right"></i>
                                            </a>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    }
                </div>
                <div class="fb-comments" data-href="@ViewBag.Canonical" data-numposts="10" data-width="100%"></div>
            </div>
            <div class="col-lg-4">
                @Html.Action("MenuArticle")
            </div>
        </div>
    </div>
</section>